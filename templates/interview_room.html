<!DOCTYPE html>
<html>
<head>
    <title>Interview Room - Interview Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <meta http-equiv="refresh" content="10"> <!-- Auto-refresh every 10 seconds -->
</head>
<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-2 gap-4">
            <!-- Meet Section -->
            <div class="bg-white p-4 rounded shadow">
                <h2 class="text-2xl font-bold mb-4">Video Call</h2>
                <p class="mb-4">Join the Google Meet call to start the interview:</p>
                <a href="{{ interview.meet_link }}" target="_blank" 
                   class="bg-blue-500 text-white px-6 py-3 rounded inline-block">
                    Join Google Meet
                </a>
            </div>

            <!-- Chat and AI Assistant Section -->
            <div class="bg-white p-4 rounded shadow">
                <h2 class="text-2xl font-bold mb-4">Chat & AI Assistant</h2>
                <div class="h-96 flex flex-col">
                    <!-- Chat Messages -->
                    <div id="chat-messages" class="flex-1 overflow-y-auto mb-4 p-4 border rounded">
                        {% for message in messages %}
                        <div class="mb-2 {% if message.user_id == 'AI' %}text-green-600{% endif %}">
                            <strong>{{ message.user_name }}:</strong> {{ message.content }}
                        </div>
                        {% endfor %}
                    </div>

                    <!-- Message Input -->
                    <form method="POST" class="mb-2">
                        <div class="flex space-x-2">
                            <input type="text" name="message" 
                                   class="flex-1 px-3 py-2 border rounded"
                                   placeholder="Type your message...">
                            <button type="submit" 
                                    class="bg-blue-500 text-white px-4 py-2 rounded">
                                Send
                            </button>
                        </div>
                    </form>

                    <!-- AI Assistant -->
                    <form method="POST">
                        <input type="text" name="ai_prompt" 
                               class="w-full px-3 py-2 border rounded mb-2"
                               placeholder="Ask AI Assistant...">
                        <button type="submit" 
                                class="bg-green-500 text-white px-4 py-2 rounded w-full">
                            Ask AI
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Scroll to bottom of messages on load
        window.onload = function() {
            const messagesDiv = document.getElementById('chat-messages');
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        };
    </script>
</body>
</html> 